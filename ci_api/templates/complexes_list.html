{% extends 'base_profile.html' %}


{% block profile_content %}

    <section class="complexes-list__content">
        <div class="complexes-list-container">
            <div class="complexes-list__title">
                Комплекс <span>1</span>
            </div>
            <div class="complexes-list-slider">

                {% for complex in complexes %}
                    <div class="complexes-list-slide {{ 'unlock' if user.level >= complex.number else 'lock' }}">

                    <div class="complexes-list-slide__wrapper">
                        <div class="complexes-list-slide__image complexes-list-image">

                            {% if complex.id in viewed_complexes %}
                                <div class="complexes-list-image__wrapper viewed">
                            {% else %}
                                <div class="complexes-list-image__wrapper">
                            {% endif %}

                            <picture>
                                <source srcset="/static/img/dragon.jpg"
                                        type="image/webp">
                                <img class="complexes-list-image__wrapper-img"
                                     src="/static/img/dragon.jpg" alt="dragon">
                            </picture>
                            </div>
                            <div class="complexes-list-image__time">{{ complex.duration }} мин</div>

                            {% if complex.id in viewed_complexes %}
                                <div class="complexes-list-image__remained">
                                    Завершено
                                </div>
                                <a href="/videos_list/{{ complex.id }}"
                                   class="complexes-list-slide__btn">
                                    Посмотреть еще раз
                                </a>

                            {% else %}
                                <a href="/videos_list/{{ complex.id }}"
                                   class="complexes-list-slide__btn">
                                    Посмотреть
                                </a>
                            {% endif %}

                            </div>
                            <div class="complexes-list-slide__text">
                                <div class="complexes-list-slide__title">
                                    {{ complex.name }}
                                </div>
                                <div class="complexes-list-slide__desc">
                                    {{ complex.description }}
                                </div>
                            </div>
                            <div class="complexes-list-slide__lock">Станет доступно
                                на {{ complex.number }}
                                уровне
                                {% if complex.number - user.level == 1 %}
                                    , до {{ complex.number }} уровня осталось {{ to_next_level }}
                                    упражнений
                                {% endif %}
                            </div>
                        </div>
                    </div>
                {% endfor %}

                </div>
            </div>
        </div>
    </section>

{% endblock profile_content %}
